-
-
-
- Incoming events
	- Amount of queus being processed
	- The spread of the attributes that are tracked
- The amount of calls to user/track
-
- Retry mechanism does 5 retries and then aborts.
- There are config parameters, caching you can set up.
-
- Catalog; we need to sync it ourselves.
- Similar to connected content; excel spreadsheet in Braze. Delivery slot in Braze.
-
-
- # Mobile excellence
-
- There is the toggle "other messages" which is mapped to the consent topic `MISC_COMMERCIAL_MESSAGES` in the Consent Service, however we want to map this to a (to be introduced) Push Topic in the user service, they are on device level.
	- Would it take a lot of time to invoke a different endpoint for this? Is it feasable?
	- What if we would rename this, that shouldn't make things more difficult right?
	- What would be the timeline?
-
- What if we make it configurable in the app?
- Q: does it work if we add pushtopic to the list of the pushtopic?
- What if it is changed on an OS level; update push topics.
-
- Either one endpoint ; or two endpoints. Baackend endpoitns.
- Implementation; redirecting;
	- Show message in the app if it is disabled.
	- If we enable but system not enabled we should give a message.
	- Not disable system settings. Never prompt to turn off, or autaomtically
	- 2 weeks for a release. next cycle; in 2 weeks monday, 11th picked up. 2 weeks later.25th.
-
- In Braze we now only have 5 apps; Android Dev and RC are not present.
	- Therefore we cannot sync anything for them, is this expected?
- I see that we are down from
-
- Introducing `PushTopic.MISC_COMMERCIAL_MESSAGES`:
	- There are two options for implementing this change; we will get back on this decision either today or tomorrow.
		- 1) Create a new endpoint that can handle updating both `PushTopic` and `ConsentTopic`s. The app would be able to simply call the same endpoint for all the toggles in the privacy settings app. This would make the FE implementation easier.
		- 2) Use two different endpoints for updating either a `PushTopic` or `ConsentTopic`.
	- Besides this, we made a few decisions during our discussions about the subscriptions:
		- We never incentivize people to disable the notifications on a system level. For now this means when someone turns off one of the push related toggles, we don't want to do anything.
		- If the push toggles in the app are enabled, but on a system level notifications are disabled, we want to display a message underneath both push toggles explaining this to the user.
		- If a user enables one of the push toggles but on a system level it is disabled, we want to show a dialog explaining the user should enable the permissions for push on a system level.
		-
	- W.r.t. timeline we discussed the following (two options):
		- There is a chance we can have everything ready before this Monday and the mobile team has capacity to pick it up this Monday already.
		- If not, the other option would be that in the next sprint, starting the 11th of March, it will be picked up and released 2 weeks later on the 25th of March.
-
- Different types of apps for iOS and Android
	- We discussed the different iOS and Android DEV, RC and Alpha apps. We want to update the mapping to support sending push messages to all types of apps. There is a chance we don't use it for all types, but let's align the configuration. The list of `ClientIds` is extended, see [here](https://github.com/PicnicSupermarket/picnic-platform/blob/develop/datalayer/datalayer-models/src/main/java/com/picnic/model/user/CustomerAuthorizationInterface.java#L114-L123). This is the current mapping in Braze [(link)](https://github.com/PicnicSupermarket/picnic-braze-bridge/blob/master/braze-bridge/braze-bridge-outbound/braze-bridge-outbound-logic/src/main/java/tech/picnic/brazebridge/outbound/logic/resources/userprofile/extractors/DevicesAttributeExtractor.java#L38-L42).
		- Can you check this mapping and update the apps accordingly?
		- Afterwards we update the mapping as well.
-
- SDK authentication errors:
	- I checked the stats and see the image for more details. We are a lot lower then we were before. See the link [here](https://dashboard-02.braze.eu/app_settings/app_settings/settings/652a4d43f34737004a645a37?locale=en), to get more insights into what is happening.
	- In case of failure; we might need to do a retry to Braze.
-
- ## Concrete tasks
- Opt: rename the `PushTopic.PUSH_MISC`.
- Introduce new `PushTopic` `PUSH_COMMERCIAL_MESSAGES`
  id:: 65ddbf88-68f5-44ea-985a-06b9971aa651
- Create endpoint to update both push topics and consent topic with one endpoint.
- Sync push topics as "consent topics" (meaning as email subscriptions) to Braze.
-
- # Discuss
- Cleaning up tokens: https://teampicnic.slack.com/archives/C064F3K6TG8/p1706100516836819
- Braze tokens and refresh: https://teampicnic.slack.com/archives/C064F3K6TG8/p1706632333428049
-
-
-
- Push tokens;
- Deleting users. No real information back...
-
-
- # Implementation of API USAGE improvement
- Split the map;
	- One flow for deleting users
	- One flow for updating
	- Combine the result of succesfull users.
-
- For deleting;
	- Just batch the request;
	- If it fails, mark all as failed.
-
- In the client, make sure that if there is an error the associated User ID is known.
-
-
-
-
- Hi Phil, the last agreement was made last week that after Q4 I would go back. The idea was to finish some things till the 12th of January at Targeting and go back. After that I think I'd like to look into the process of moving to consumer domain / targeting. Jarmila and Nathan are aware of the fact that I'm coming back after the 12th.
-
- However, Daniel get word of the fact that I'm moving back. It seems that he is thinking differently about the move. He messaged me this morning saying the Braze project is critical project and should have the focus for 2024. Additionally he mentions targeting needs the people. So I'm not sure what is happening right now or what the state is to be honest.
-
-
- He mentions it is critical project and that targeting needs.
-
-
- Name phone, address. When we log the request, remove the blacklisted PII fields.
-
- ## Enric discuss region service
- Had a talk with Geert:
- Grote feature request, of we delivery regions meer immutable kunnen maken en kijken hoe dat samenwerkt met devliery slotservice en hoe de operators dat gebruiken.
- Er is een endpoint die mensen kunnen gebruiken om van IDE naar naam te komen.
- Eigenlijk te moeilijk om hier iets mee te kunnen doen op korte termijn. Ze hebben te weinig developers.
- Optie om dus `UserRegionMembershipMutationEvent` te gooien voor alle users die dat hebben vanuit Picnic. Maargoed dat is verre van ideaal.
- Voor nu dus eigenlijk nog de ID gebruiken..
-
- # Questions
- We asked Philip about our highly dynamic attributes from ADS and if they can again mention what the best approach would be. This is mainly because we foresee that in the future we will have quite some big profiles with unused and undeleted attributes... Martijn will provide an answer.
- We will not use the email preference center from Braze for the first emails that we are going to send next week.
- Philip will look at our campaign & segments setup in Braze before we will actually send emails on Tuesday, just to be sure.
- Though, if we manage to have the contact preference center in a "ready" state Tuesday he will look at that as well with us such that it is ready for January IP Warming. (Now that I think of it, if we manage, why not use it directly @Penny?)
- For consent we need to use the IDs that are provided in Braze. So we have to create all of them in Braze and create a mapping from `ConsentTopic` to `ID` in the Braze Bridge. @Dirk and I discussed this and for now this will be fine. We see this happening in other places as well (Platform, Store and Rule Engine).
	- Do we need to have all consents that we have within Picnic in Braze? Probably only the relevant ones right? In that case, we need to think about the fact whether we sync _all_ consents or only the relevant ones?
	- @Penny (based on the answer above) can you create all the consent topics in Braze? Probably tomorrow we'll start working on the implementation in the Braze Bridge.
-
- Deleting attributes, highly dynamic. How to do this? Help us.
- Feature request?
- --> Martijn will get back to this.
- --> We can create the unsubscribe link already.
- How do we get it back in the system. The unsubscribe link?
- No braze email preference center for the first wave of customers.
- Next week we'll check out the contact preference center.
-
-
- Consent ID, can we set it?
	- No we have to use their IDs.
- Preference center is only drag and drop.
-
-
- Bring Penny up-to-date
	- Progress update
	- Discuss `On hold` items
	- Discuss IP warming change ;)
-
- Progress this week:
	- ADS syncing
	- ADS Testing --> Let's work on some actual testing / first use case in DEV?
	- Decision on "tracking" attributes that have been synced.
-
- Consent setup
	- Which consents do we need? Let's create them in Braze
	- Consent syncing implementation
	- The contact preference center implementation and unsubscribel ink
-
- Four tickets as follow up:
	- Batching of users export endpoint
	- Handle deletion of events from invalid users
	- Make sure basic profile is there.
	- Push tokens syncing.
-
-
-
-
- ## priorities
- Get the ADS test out
- Get ads out
- Consent
- Batching of users export endpoint
- Handle deletion of events from invalid users
- Make sure basic profile is there
-
-
-
- # Consent and subscription stuff
- ## Agenda
- Should we sync subscription groups via the regular `user/track` API, or via `subscription/status/set`  [API](https://www.braze.com/docs/api/endpoints/subscription_groups/post_update_user_subscription_group_status/) here. Any functional differences?
	- New that `user/track` can be used for subscription groups.
	- It's the same. Both are not costing data points.
- How do we track Gmail list unsubscribe? Where does it "land" in the data model. How can we port it back to Picnic.
	- 1. Settings > Email preferences > Sending Configuration > Email Unsubscribe header. Here you can enable it.
	- 2. Analytics > Email perforamcne > Deliverability Center > Google Postmaster Integration > To track your subdomains. Connect to Braze.
	- Google Postmaster gives you an overall performance, spam complaints, a report with a lot of data.
	  He will send docs about this. We have a spreadsheet where IP addresses are specified, give google the IP addresses. --> We need to take action here.
	- Microsoft postmaster; SNDS, can send over documentation.  --> Action
	- We need to have this before this. Dive deeper into reports.
	- 1st of february google list unsubscribe.
	-
- If we want to sync all push tokens and are configuring them for Android to target users that don't have the Braze SDK yet, we need to reach out to Martijn. The Android setup is a bit more involved he can help us and point us to the additional confiuration that is needed.
- We discussed the implementation of the Snowflake connector. Interpreting the data is the hard part about Snowflake. They provide three sessions to get the team familiar with everything going on there. Keen do understand when we can start planning those. Sessions for this are Usually spread across 3 weeks. Current plan is to start with this mid december (to frontload a bit of the work and have less overlap with IP warming). There is a chance DWH team members should join this.
- If the team wants help with setting up campaigns, we can start by asking questions in Slack and otherwise schedule a meeting with Phil.
	-
- We like to have a general introduction to the Braze "contact preferences" landing page (forgive me for not knowing the name).
	- Audience > Subscription > Define all the groups, Email subscription groups.
	- Email Preference Center; Here you can build preference centers. Every preference centers, liquid tag, if you want to include some options vs others, each one has different liquid tag. You specify which preference center to show.
	- Use drag and drop to create a preference center.
	- HTML developers can maybe already start creating this thing. Include in bottom of email.
		- Even a confirmation page that we can create.
- Specifically for that: How do customers make changes to their preferences, and how do we get that data back to Picnic.
- Note: The Picnic consent service should always be the "Single Source of Truth" for consent data.
- I remember you saying some things about webhooks. We also have our own unsubscribe links like this: [https://www.picnic.app/nl/email/afmelden?list_id=MISC&email=~MAIL~&token=~UNSUBSCRIBE_TOKEN~](https://www.picnic.app/nl/email/afmelden?list_id=MISC&email=~MAIL~&token=~UNSUBSCRIBE_TOKEN~)
	- Synchronzie that data; there is two options;
		- Explore grabbing data via Snowflake datashare; two states; global subscription state and granalur, subscription groups (we'll use this probably), weekly newsletter and such. will be shared as events with the snowflake thing per users. We can process that info to keep our systems up to date.
		- Second; webhooks; similar how you can create campaign an send email. Set campaigns of webhook type that change on subscription state or group membership changes. In control of payload and URL.
		- First one is more robust; webhook can fail. a little retry, but not always.
	- Phil:
-
	- We need to get tan insight into all the preferences/consent.
	-
	- Contatct center only used for subscription groups that are in contact settings, not the custom attributes.. We need to use them.
	- Not custom attributes in email preferences.
	-
- For now the plan is:
	- We can use our existing unsubscribe links as webhooks to let the Picnic system know when someone decides to unsubscribe.
	- Use the `user/track` endpoint to track their natively supported subscription groups. (Tracking our own would mean we cannot use the contact preferences center).
	- Use webhooks to feedback consent changes into the Picnic system.
		- This _can_ fail and therefore get out of sync. To mitigate this problem, we will later add another call to the handling of a user to the consent service and request the current consent and compare that. If it is not in sync, we will update the consent in the consent service.
	- We will sync the push tokens as part of the user profile. The user service will be kept up-to-date by the app when push tokens are updated. We need to figure how we go about making sure we update Braze.
	-
- Action points:
	- Start adding the different subscription groups to mirror what we currently have. --> Not sure who to tag for this.
	- Create the contact preferences screen + confirmation screen. @HTML devs. --> Not sure who to tag for this.
	- Set up SNDS Microsoft postmaster --> Not sure who to tag for this.
	- Set up Gmail tracking post --> Not sure who to tag for this.
	- Create tickets for implementing the plan mentioned above @Rick.
	-
	-
- Going in proposal would be to not initialize SDK for non consent users
- Still be syncing user data + events to Braze for consent + non consent users
- We will be able to engage with those customers via email + push
	- Push will have to through the following:
		- *"if you can upload and maintain a list of push tokens for opted out users then you can send them a Push"*
- This will enable transactional campaigns
- However, we won't have tracking (on push + email) for the non consent users
-
- ## Notes
- We need to sync the push tokens and keep them in sync.
- Or another consent that allows to track data for marketing purposes.
- Syncing that via the braze-bridge, every app start, so quite a lot of times.
- Also for previous versions of the apps.
- Pushtokens and starts with sessions data. Is that functional cookies?
- Power the base SDK and activate some of the messaging channels.
-
- Terms and conditions of the app what they stipulade. Users choice that the company knows when opens the app and when closes the app. What is dedicated as "necessary". Share initial consent.
-
- Should we delete? We can stop tracking, stop SDK.
- Push token is updated via `user/track`. What is the consent state of the user. Statusses that you can have for users.
- Braze push out of the box. Set to unsubscribed, not opted out technically.
- Non consent and consent users they are two different users, so maybe not their braze push stuff from their API.
- custom attributes that they opted out. For transactional campaings, nmeed to have pushtoken.
- Can configure what all the things are that Braze SDk collects ( see link Martijn send)
-
-
-
- ### Feedback Penny
- We willen niet de andere dingen laten zien.
- Contact preferences liever niet, zit in de app. Kan dat los van elkaar?
- Preference center enabled / disablen.
-
- ## Peter Bijl gesprek
- Catalog solution? Would that work?
- Region name changed event. Voor iedere user;
- Region Name is unique.
-
- OVer 2 weken op terug komen.
- Hij gaat vragen of ze event kunnen emitten als de naam wijzigt. Zij willen naam blijven wijzigen omdat het veel impact heeft. Even deleten en weghalen is niett makkelijk.
-
- ## Update
- Alerts gaat prima nu.
- user regions hebben we vrijdag besproken; nu eerste implementatie die wat verbetert moet worden
- Het bepalen welk deel er geupdatet is.
- Dan door met
-
-
- Ask what are the properties in this DTO?
- What are the names of the properties?
-
- ```
  RecordSchema (from CommunicationService)
  ```
- Kijken op die manier.
- Bovenstaande kijken of het te lastig is, anders kijken naar oplossing dat elk resourcse z'n eigen prefix heeft en alleen dat update.
-
- Of dat elk event z'n eigen PREFIX heeft.
- Dan is User profile alles dat geen prefix heeft.
-
-
-
-
- ```
  { 
    "first_name": "Foo",
    ....
    "regions_delivery_area": [1,2,3,4],
    "regions_prices": [12,34,56]
  }
  ```
-
- // queue, handler and config should be imported.
-
-
- ## Open questions
-
- Can we nest the objects maybe? What were the drawbacks.
- Some parts of the API coulnl't handle that right?
- Add to calendar friday.
- Put update in channel on user regions.
-
- ## Standup
- How to fix the Market setup, see slides Penny created
-
- Tech:
	- improved user syncing
	- No errors
	- Have to work in component tests
	- Started with User Regions.
-
- ## Questions about market setup.
- Treat data silo'd or if you don't mind if the data lives in one env.
- Themes
	- Permission wise you can limit the scope of marketeers by allowing them to see a market.
- Localization support?
	- Message itself; text that you fill in, different version. Language attribute.
	- Canvas where you have a decision tree based on the language with three different templates.
-
- ## Braze API overview session.
- Language ISO-639 Two letter code.
- Country: different one
- Gender: M or F
-
- We can batch to the User Track endpoint.
-
- `X-Braze-Bulk: true`
-
- 2500 requests per minute.
-
- Ingestion via Snowflake instead of API.
-
- Deleting of a field, or if you `null` a field.
-
- Rate limit per workspace. See tab Monitor Rate Limits (X-RateLimit-Limit)
- 429
- 5xx
- You get valuable information back from the system.
-
- Should we implement bulk already?
-
-
-
-
-
-
-
-
-
-
-
-
- ## Mail for Martijn
- Hi Martijn,
-
- We would like to share a proposal for the user syncing setup on our side and validate some of our assumptions.
  The idea is to use "namespacing" in the User Profile, by means of prefixing the keys of the custom attributes. So for example, attributes coming from a service called "ADS" we prefix the values with `ads_`. Consequently, by fetching the user via the `/users/export/ids` endpoint and using the updated user event, we can identify how we should update the information of the user.
  There are two questions related to this:
	- What do you think about this setup?
	- Can we get a subset of custom attributes from the user profile? E.g. only attributes starting with `ads_`? If not, how can we identify fields to delete from Braze.
	- Retrieving the profile will not count towards our data points right?
-
- # Monday 30
- First users are synced.
-
- Warnings over the weekend, will require investigation.
-
- We did: attribute sync, prefixes + diff calculation proposal.
- Markets. --> Meeting to get some pros and cons? Discuss with Martijn.
-
- For this week:
	- Fix alerts
	- Add missing fields.
-
-
- ### Else
- ~~Checken of moet firstname lastname gevuld zijn.~~
-
- ```
  ImmutableListOf1
  ```
- MOET NOG EEN TEST BIJ!
- En de 1tjes kloppen niet?
-
-
- # Monday 23
-
- Naming strategy; implementation. for fields.
- Can we delete a profile? What are the constraints for that?
	-
- Diff calculation thingy.
-
-
- First PR is open, doesn't contain all fields yet but we will extend.
- Focus of this week is to improve said setup and get it done for first milestone, which is then syncing users.
-
-
-
- ## Talk mett Enric
- user details is omitted on rabbit, goes to bridge, gets batched, gets into profile, event is omitted to braze.
- what happens on user deletion; What would they like us to do.
- Soft delete? Delete everything.
-
- Complex function;
- Utility for identifying attributes;
- Maps.difference();
-
- `getAlltATtributes` thing.
- `externalId` is special. A simple map is not good because we need to enforce constraints.
- Just send a map.
-
- as request we got from the client. We transform it into what the API expects.
-
-
-
- ## Monday 16
- First epic is done, apart from MongoDB.
- MongoDB will be picked up this week.
-
- First API calls are done.
-
- Focus for this week; user details syncing.
	- So I need data on what fields we need.
- Abstraction layer.
- Maybe second one?
-
- Important; next week I'll be at a conference.
- Week after that I'll need time to prepare as well.
- Next week Monday I'll be on a plane. Can we reschedule?
-
- ---
- Adding / grouping, naming convention
-
-
-
-
-
-
-
-
- ## Other
-
- Maybe Docker mock?
- Otherwise mockserver API.
-
- `bridge-support` uses MongoDB, queues , de-duplicates and calls DataListAPI to Selligent.
- Saves all the events, kind of buffers in between.
-
- Handler for when it's ready to process. See what the difference is and only update that.
-
- We'll focus on outbound.
-
- Braze is orchestrator. operator setup and define flows, with call back to picnicsystems., trigger stuff. Braze will also be executor of communications.
- If need logic before final execution, go to rule engine.
-
- general purpose client that handles most stuff regarding formats; authentications and such.
-
- outbound, make queue
-
- SelligentClient does combine some "lowlevel" API calls in some more convenient functions.
	- Like the pagination example of search, where it will return a Flux, to make it more convenient.
-
-
- # TODO?
- Relaxed release!?
-
-
- Customer Team
	- Cristina
	- Penny
- TAR
	- Enric
	- Frans
	- Dirk
- Infra
- Mobile excellence
-
- Wij moeten de kritische vragen gaan stellen.
	- Welke journeys zijn afhankelijk van welke datasource.
-
- Update maandagen
	- Wat is de status?
	- Wat hebben we nodig?
	- Wat gaan we nu oppakken? / aanpakken? Komende week.
-
- Beslissingen vast leggen en delen.
-
-
- Pyramid principle: https://medium.com/lessons-from-mckinsey/the-pyramid-principle-f0885dd3c5c7
-
-
- Samenvatting Frans:
- Project learning goals Rick
	- Hee sees this project as a nice "Product team field trip"
		- Experience usage of PSM tools in a real project in a real team. Set-up green field project end-to-end with own tools.
	- [@Rick](https://teampicnic.slack.com/team/U01S2HXUEGP) will keep a list for himself of practical stuff in using PSM to take back to JPLA
	- [@Enric Sala](https://teampicnic.slack.com/team/UF411D8P2) Actively invite Rick any topics and discussions in TAR team around PSM and Dev tooling. He likes to think along ![:+1::skin-tone-3:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/google-medium/1f44d-1f3fc.png)
	- Having the Product team experience: Building a Product, Writing code, Testing, etc.
	- [@Rick](https://teampicnic.slack.com/team/U01S2HXUEGP) wants to practice stakeholder management:
	- Customer team - Mostly managing communication and workflow for [@Penny Steenbeek](https://teampicnic.slack.com/team/U040M739PQB).
	- [@Rick](https://teampicnic.slack.com/team/U01S2HXUEGP) will prepare the state of tech for the Monday kick-off and be explicit on the investigation work Penny can do to unblock.
	- To limit scope, [@Frans](https://teampicnic.slack.com/team/U6H0C31UK) to pick up the work with Infra / Security / Mobile Excellence
	- [@Rick](https://teampicnic.slack.com/team/U01S2HXUEGP) wants to practice communication skills:
	- Verbal updates on Monday
	- Written updates in [#int-braze-migration](https://teampicnic.slack.com/archives/C04SXF9LZ33) --> [@Frans](https://teampicnic.slack.com/team/U6H0C31UK) to coach on message & Pyramid principle
	- Ad-hoc questions --> In [sys-targeteers](https://teampicnic.slack.com/archives/CUJ8CK258) so
-
- # Prep Monday 9 oct
- The dev setup is almost there. Monday will probably be the day to do an actual deployment.
-
- First queue setup for user details. Later wil be easier to add. Need to get insight into all lthe data sources we need to add. Priorities for that.
-
- Things we need to do:
	- Focus on improved data structures.
		- Can we do nested data structures
	- What should be the priority for data that has to be ingested, to be able to start creating campaigns in Braze?
-
- ## Update
- Current state of tech
	- New project is setup.
	- Currently working on all the (dev) tools we need to use it.
	- Infra related things.
-
- Whats goal of this week?
	- Do actual deployments of the base application either today or tomorrow.
	- Work on setting up the first data ingestion.
		- We start with the user details
	- Think about improving data structures, based on the answers of Braze.
-
-
- What can others do to unblock?
	- Get insight into the priorities of all the different data sources we need to have for Braze. Which data sources do we sync first such that we can unblock the migration of the most campaigns early on.
	- Go over the list and check what is interesting. https://picnic.atlassian.net/wiki/spaces/RULE/pages/2324398376/UserDetailsEvent
-
-
- ~~Ask timeline for Mongo.~~
- ~~Ask 7?~~
-
- ## Questions
- Collection of entities? not linked to a customer but we can use for quering. Indirect lookup via an entity.
- User slots, doesn't exist, needs to be computed.
- Clarify how the data about the devices (data) is updated.
-
- ## Questions
- ### General usage
	- What is the preferred way of updating objects via your API (also w.r.t. pricing)? Should we update specific fields within an object or can we just post the whole (e.g.) updated user object?
	- Can we store only flat data structures or can we have nested data structures?
		- Are there limitations?
		- How would that work?
		- Advantages / disadvantages of using nested data structures
			- Especially w.r.t. using the objects when creating campaigns. Can we easily go over the nested structures when targeting audiences or creating conditions. For instance, if we list all the orders of a user as an array on the user document, can we easily select all the users with more than 5 orders in the last 4 weeks?
	- How is the date and datetime support in Braze? What date time format does Braze use? And with what precision? And how can we process time based data in journeys? For instance, select customers that were in the app between 10 and 5 days ago.
	- Is there any kind of schema enforcing in Braze on the data that is sent by us?
-
- ### User syncing
- What does a user document look like on the Braze side?
	- Any mandatory fields that the system requires?
	- How do we add our own fields?
	- How are user devices synced / saved to Braze?
		- Does the mobile SDK support this out of the box?
		- What updates are done by the SDK?
	- Can you walk us through setting up a simple user document and using that with the API?
-
- ### Non user syncing
	- Can you walk us through setting up a non customer data source?
		- Or rather; for now explain how we would go about that?
	- How do we sync non customer data to Braze and how do we process that in journeys? For instance, we have delivery slots linked to regions and separately regions linked to customers. However, we don't expose or pre-calculate the entire user-slots mapping. Can we sync relational data like this and traverse it to end up with user slots?
	-
- ### Other stuff
	-
-
- ### Notes for their questions
- Hoe kunnen we onze structuren doen?
- Voorstel intern daarna met thun bespreken.
- Hoe process je nested structure nin een njourney?
- Zijn er restricties?
-
- Audience filter condities die we kunnen doen.
-
-
-
- # Answers
- What is the preferred way of updating objects via your API (also w.r.t. pricing)? Should we update specific fields within an object or can we just post the whole (e.g.) updated user object?
	- User profile consists of:
		- Attributes
		- Events
		- Purchases
	- `99df9a4f-ed66-4d0f-a1bf-0700be250ac2` --> Put it in Vault
	  `[https://rest.iad-03.braze.com](https://rest.iad-03.braze.com/)`
	- POST Track:user
	- externalID is unique identifier
- Can we store only flat data structures or can we have nested data structures?
	- Only one level deep for array, but type:dog can also be an array
		- Level of nesting for custom events. Stored as a string value.
	- Replace something, better to remove and add. Remove singular element.
	- Updating to null and not present; is the same.
- Are there limitations?
- How implementing these nested data structures work?
- Advantages / disadvantages of using nested data structures
- Especially w.r.t. using the objects when creating campaigns. Can we easily go over the nested structures when targeting audiences or creating conditions. For instance, if we list all the orders of a user as an array on the user document, can we easily select all the users with more than 5 orders in the last 4 weeks?
- How is the date and datetime support in Braze? What date time format does Braze use? And with what precision? And how can we process time based data in journeys? For instance, select customers that were in the app between 10 and 5 days ago.
	- ISO-8601
- Is there any kind of schema enforcing in Braze on the data that is sent by us?
- **User syncing**
- What does a user document look like on the Braze side?
	- You can do whatever you want.
	- Mongo :D
	- Experiment with timezone;l
- Any mandatory fields that the system requires? How do we add our own fields?
	- No manage it on your own. You can enforce some things by "blacklisting".
- How are user devices synced / saved to Braze?
	- SDK: Session for the first time; braze generate GUID; data to braze; it passes by deviceID. User ID; attaches device to that external ID.
- Does the mobile SDK support this out of the box?
- What updates are done by the SDK?
- Is there any syncing for device info needed from our side through the API?
- Can you walk us through setting up a simple user document and using that with the API?
- **Non user syncing**
- Can you walk us through setting up a non customer data source?
- How do we process that in journeys?
- For instance, we have delivery slots linked to regions and separately regions linked to customers. However, we don't expose or pre-calculate the entire user-slots mapping. Can we sync relational data like this and traverse it to end up with user slots?
-
- We can send in the delta instead of whole objects.
- Segmentation; drag and drop. and ...
- Top level property where you filter on; only in SQL, not drag and drop.
- Unlimited sending of data. Will be used for SQL stuff; if you want to have it in the data segmentation and all then you need to decide to save it as "cold" storage. Instead of the lifetime of a campaign, will work as part of the "data allocation".
- Segment extensions.
- Have a count if you want to use x amount of events before trigger.
-
- ## Code TODO
- Metrics gauge instrument like Selligent.
-